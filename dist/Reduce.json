{
    "type": "Reduce",
    "version": "1.0",
    "description": "Removes labels for a given amount of energy.",
    "template": "{\"context\":{\"type\":\"addr\",\"desc\":\"The context address for the reduction\",\"name\":\"context\"},\"block\":{\"type\":\"uint\",\"desc\":\"The block for which energy is being reduced\",\"name\":\"block\"},\"originalLabels\":{\"type\":\"str\",\"desc\":\"The exact set of labels from which energy is reduced\",\"name\":\"originalLabels\"},\"amount\":{\"type\":\"float\",\"desc\":\"The amount of energy to reduce\",\"name\":\"amount\"},\"labelsToRemove\":{\"type\":\"str\",\"desc\":\"The labels which are to be removed\",\"name\":\"labelsToRemove\"}}",
    "init": "YXdhaXQgcXVlcnkoIkNSRUFURSIsICJ0cmFkZXJzIiwgYCgNCiAgICBjb250ZXh0IFZBUkNIQVIoMzUpIE5PVCBOVUxMLA0KICAgIGFkZHJlc3MgVkFSQ0hBUigzNSkgTk9UIE5VTEwsDQogICAgUFJJTUFSWSBLRVkgKGNvbnRleHQsIGFkZHJlc3MpDQopYCwgW10pOw0KYXdhaXQgcXVlcnkoIkNSRUFURSIsICJlbmVyZ3kiLCBgKA0KICAgIGNvbnRleHQgVkFSQ0hBUigzNSkgTk9UIE5VTEwsDQogICAgdHJhZGVyIFZBUkNIQVIoMzUpIE5PVCBOVUxMLA0KICAgIGJsb2NrIEJJR0lOVCBOT1QgTlVMTCwNCiAgICBsYWJlbHMgVFNWRUNUT1IgTk9UIE5VTEwsDQogICAgYmFsYW5jZSBERUNJTUFMIE5PVCBOVUxMLA0KICAgIFBSSU1BUlkgS0VZIChjb250ZXh0LCB0cmFkZXIsIGJsb2NrLCBsYWJlbHMpLA0KICAgIEZPUkVJR04gS0VZIChjb250ZXh0LCB0cmFkZXIpIFJFRkVSRU5DRVMgdHJhZGVycyAoY29udGV4dCwgYWRkcmVzcykgT04gREVMRVRFIENBU0NBREUNCilgLCBbXSk7",
    "code": "aWYgKChhd2FpdCBxdWVyeSgiU0VMRUNUIiwgInRyYWRlcnMiLCBgDQogICAgICAgIFdIRVJFIGNvbnRleHQgPSAkMSBBTkQgYWRkcmVzcyA9ICQyDQogICAgYCwgW3BheWxvYWQuY29udGV4dCwgZnJvbV0pKS5yb3dzLmxlbmd0aCAhPT0gMSkgew0KICAgIHJldHVybiAiVGhpcyBhZGRyZXNzIGlzIG5vdCBhbGxvd2VkIHRvIGhhdmUgYSBlbmVyZ3kgYmFsYW5jZSB3aXRoaW4gdGhlIGdpdmVuIGNvbnRleHQgYWRkcmVzcy4iOw0KfQ0KaWYgKHBheWxvYWQuYW1vdW50IDw9IDApIHsNCiAgICByZXR1cm4gIlRoZSBhbW91bnQgdG8gcmVkdWNlIG11c3QgYmUgcG9zaXRpdmUuIjsNCn0NCi8vIFllcywgd2UgYXJlIHF1ZXJ5aW5nIHRoZSB0cmFkZXJzIHRhYmxlLiBZZXMsIHRoaXMgaGFzIG5vdGhpbmcgdG8gZG8gd2l0aCBvdXIgY2hlY2suIFR1cm5zIG91dCwNCi8vIHRoZSBvcHRpb25zIGZvciBidWlsZGluZyBTRUxFQ1QgcXVlcmllcyBhcmUgYSB0YWQgbGltaXRlZC4gU28gd2UgdXNlIHRoaXMgbGl0dGxlIHdvcmthcm91bmQuDQovLyBTaW5jZSwgZ2l2ZW4gdGhlIGNoZWNrIGFib3ZlIHRoYXQgdGhlIHRyYWRlciBleGlzdHMsIHdlIGtub3cgdGhhdCB0aGUgdHJhZGVycyB0YWJsZSBpc24ndCBlbXB0eSwNCi8vIHdlIGRvIGEgU0VMRUNUIG9uIHRoaXMgdGFibGUgd2l0aCBhIFdIRVJFLWNsYXVzZSB1bnJlbGF0ZWQgdG8gdGhlIHRhYmxlLiBJZiB3ZSBnZXQgemVybyByb3dzDQovLyByZXR1cm5lZCwgd2Uga25vdyB0aGUgV0hFUkUtY2xhdXNlIGV2YWx1YXRlZCB0byBGYWxzZS4gSWYgcm93cyBhcmUgcmV0dXJuZWQsIGl0IHdhcyBUcnVlLg0KaWYgKChhd2FpdCBxdWVyeSgiU0VMRUNUIiwgInRyYWRlcnMiLCBgV0hFUkUNCiAgICAgICAgKFNUUklQKCQxOjpUU1ZFQ1RPUikgfHwgU1RSSVAoJDI6OlRTVkVDVE9SKSkgIT0gU1RSSVAoJDE6OlRTVkVDVE9SKQ0KICAgICAgICBPUg0KICAgICAgICBUU19ERUxFVEUoU1RSSVAoJDE6OlRTVkVDVE9SKSwgVFNWRUNUT1JfVE9fQVJSQVkoU1RSSVAoJDI6OlRTVkVDVE9SKSkpID0gU1RSSVAoJDE6OlRTVkVDVE9SKQ0KICAgIGAsIFtwYXlsb2FkLm9yaWdpbmFsTGFiZWxzLCBwYXlsb2FkLmxhYmVsc1RvUmVtb3ZlXSkpLnJvd3MubGVuZ3RoID4gMCkgew0KICAgIHJldHVybiAiVGhlIGxhYmVscyB0byByZW1vdmUgc2hvdWxkIGJlIGEgbm9uLWVtcHR5IHN1YnNldCBvZiB0aGUgY3VycmVudCBzZXQgb2YgbGFiZWxzLiI7DQp9DQpjb25zdCBjdXJyZW50QmFsYW5jZSA9IGF3YWl0IHF1ZXJ5KCJTRUxFQ1QiLCAiZW5lcmd5IiwgYA0KICAgIFdIRVJFIGNvbnRleHQgPSAkMSBBTkQgdHJhZGVyID0gJDIgQU5EIGJsb2NrID0gJDMgQU5EIGxhYmVscyA9IFNUUklQKCQ0OjpUU1ZFQ1RPUikNCmAsIFtwYXlsb2FkLmNvbnRleHQsIGZyb20sIHBheWxvYWQuYmxvY2ssIHBheWxvYWQub3JpZ2luYWxMYWJlbHNdKTsNCmlmIChjdXJyZW50QmFsYW5jZS5yb3dzLmxlbmd0aCAhPT0gMSkgew0KICAgIHJldHVybiAiVGhpcyBhZGRyZXNzIGRvZXMgbm90IGhhdmUgZW5lcmd5IHdpdGggdGhlIGdpdmVuIGxhYmVscyBpbiB0aGUgZ2l2ZW4gYmxvY2suIjsNCn0NCmlmIChjdXJyZW50QmFsYW5jZS5yb3dzWzBdLmJhbGFuY2UgPCBwYXlsb2FkLmFtb3VudCkgew0KICAgIHJldHVybiAiVGhpcyBhZGRyZXNzIGRvZXMgbm90IGhhdmUgZW5vdWdoIGVuZXJneSB3aXRoIHRoZSBnaXZlbiBsYWJlbHMgaW4gdGhlIGdpdmVuIGJsb2NrLiI7DQp9DQphd2FpdCBxdWVyeSgiVVBEQVRFIiwgImVuZXJneSIsIGANCiAgICBTRVQgYmFsYW5jZSA9IGVuZXJneS5iYWxhbmNlIC0gJDUNCiAgICBXSEVSRSBjb250ZXh0ID0gJDEgQU5EIHRyYWRlciA9ICQyIEFORCBibG9jayA9ICQzIEFORCBsYWJlbHMgPSBTVFJJUCgkNDo6VFNWRUNUT1IpDQpgLCBbcGF5bG9hZC5jb250ZXh0LCBmcm9tLCBwYXlsb2FkLmJsb2NrLCBwYXlsb2FkLm9yaWdpbmFsTGFiZWxzLCBwYXlsb2FkLmFtb3VudF0pOw0KYXdhaXQgcXVlcnkoIklOU0VSVCIsICJlbmVyZ3kiLCBgDQogICAgKGNvbnRleHQsIHRyYWRlciwgYmxvY2ssIGxhYmVscywgYmFsYW5jZSkNCiAgICBWQUxVRVMgKCQxLCAkMiwgJDMsIFRTX0RFTEVURShTVFJJUCgkNDo6VFNWRUNUT1IpLCBUU1ZFQ1RPUl9UT19BUlJBWShTVFJJUCgkNTo6VFNWRUNUT1IpKSksICQ2KQ0KICAgIE9OIENPTkZMSUNUIChjb250ZXh0LCB0cmFkZXIsIGJsb2NrLCBsYWJlbHMpIERPIFVQREFURSBTRVQgYmFsYW5jZSA9IGVuZXJneS5iYWxhbmNlICsgRVhDTFVERUQuYmFsYW5jZQ0KYCwgW3BheWxvYWQuY29udGV4dCwgZnJvbSwgcGF5bG9hZC5ibG9jaywgcGF5bG9hZC5vcmlnaW5hbExhYmVscywgcGF5bG9hZC5sYWJlbHNUb1JlbW92ZSwgcGF5bG9hZC5hbW91bnRdKTsNCnJldHVybiAiT0siOw=="
}