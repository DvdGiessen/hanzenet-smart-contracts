{
    "type": "Energy",
    "version": "1.0",
    "description": "Registers production or comsuption of energy.",
    "template": "{\"context\":{\"type\":\"addr\",\"desc\":\"The context address for the energy production or consumption\",\"name\":\"context\"},\"amount\":{\"type\":\"float\",\"desc\":\"The amount of energy produced (positive) or consumed (negative)\",\"name\":\"amount\"}}",
    "init": "YXdhaXQgcXVlcnkoIkNSRUFURSIsICJ0cmFkZXJzIiwgYCgNCiAgICBjb250ZXh0IFZBUkNIQVIoMzUpIE5PVCBOVUxMLA0KICAgIGFkZHJlc3MgVkFSQ0hBUigzNSkgTk9UIE5VTEwsDQogICAgUFJJTUFSWSBLRVkgKGNvbnRleHQsIGFkZHJlc3MpDQopYCwgW10pOw0KYXdhaXQgcXVlcnkoIkNSRUFURSIsICJwcm9kdWNlcnMiLCBgKA0KICAgIGNvbnRleHQgVkFSQ0hBUigzNSkgTk9UIE5VTEwsDQogICAgYWRkcmVzcyBWQVJDSEFSKDM1KSBOT1QgTlVMTCwNCiAgICB0cmFkZXIgVkFSQ0hBUigzNSkgTk9UIE5VTEwsDQogICAgbGFiZWxzIFRTVkVDVE9SIE5PVCBOVUxMLA0KICAgIFBSSU1BUlkgS0VZIChjb250ZXh0LCBhZGRyZXNzKSwNCiAgICBGT1JFSUdOIEtFWSAoY29udGV4dCwgdHJhZGVyKSBSRUZFUkVOQ0VTIHRyYWRlcnMgKGNvbnRleHQsIGFkZHJlc3MpIE9OIERFTEVURSBSRVNUUklDVA0KKWAsIFtdKTsNCmF3YWl0IHF1ZXJ5KCJDUkVBVEUiLCAiY29uc3VtZXJzIiwgYCgNCiAgICBjb250ZXh0IFZBUkNIQVIoMzUpIE5PVCBOVUxMLA0KICAgIGFkZHJlc3MgVkFSQ0hBUigzNSkgTk9UIE5VTEwsDQogICAgdHJhZGVyIFZBUkNIQVIoMzUpIE5PVCBOVUxMLA0KICAgIGxhYmVscyBUU1ZFQ1RPUiBOT1QgTlVMTCwNCiAgICBQUklNQVJZIEtFWSAoY29udGV4dCwgYWRkcmVzcyksDQogICAgRk9SRUlHTiBLRVkgKGNvbnRleHQsIHRyYWRlcikgUkVGRVJFTkNFUyB0cmFkZXJzIChjb250ZXh0LCBhZGRyZXNzKSBPTiBERUxFVEUgUkVTVFJJQ1QNCilgLCBbXSk7DQphd2FpdCBxdWVyeSgiQ1JFQVRFIiwgImVuZXJneSIsIGAoDQogICAgY29udGV4dCBWQVJDSEFSKDM1KSBOT1QgTlVMTCwNCiAgICB0cmFkZXIgVkFSQ0hBUigzNSkgTk9UIE5VTEwsDQogICAgYmxvY2sgQklHSU5UIE5PVCBOVUxMLA0KICAgIGxhYmVscyBUU1ZFQ1RPUiBOT1QgTlVMTCwNCiAgICBiYWxhbmNlIERFQ0lNQUwgTk9UIE5VTEwsDQogICAgUFJJTUFSWSBLRVkgKGNvbnRleHQsIHRyYWRlciwgYmxvY2ssIGxhYmVscyksDQogICAgRk9SRUlHTiBLRVkgKGNvbnRleHQsIHRyYWRlcikgUkVGRVJFTkNFUyB0cmFkZXJzIChjb250ZXh0LCBhZGRyZXNzKSBPTiBERUxFVEUgQ0FTQ0FERQ0KKWAsIFtdKTs=",
    "code": "bGV0IHR5cGU7DQppZiAocGF5bG9hZC5hbW91bnQgPiAwKSB7DQogICAgdHlwZSA9ICJwcm9kdWNlcnMiOw0KfQ0KZWxzZSBpZiAocGF5bG9hZC5hbW91bnQgPCAwKSB7DQogICAgdHlwZSA9ICJjb25zdW1lcnMiOw0KfQ0KZWxzZSB7DQogICAgcmV0dXJuICJBbW91bnQgY2FuIG5vdCBiZSB6ZXJvLiI7DQp9DQppZiAoKGF3YWl0IHF1ZXJ5KCJTRUxFQ1QiLCB0eXBlLCBgDQogICAgICAgIFdIRVJFIGNvbnRleHQgPSAkMSBBTkQgYWRkcmVzcyA9ICQyDQogICAgYCwgW3BheWxvYWQuY29udGV4dCwgZnJvbV0pKS5yb3dzLmxlbmd0aCAhPT0gMSkgew0KICAgIHJldHVybiAiVGhpcyBhZGRyZXNzIGlzIG5vdCBvbiB0aGUgbGlzdCBvZiBhbGxvd2VkICIgKyB0eXBlICsgIiB3aXRoaW4gdGhlIGdpdmVuIGNvbnRleHQgYWRkcmVzcy4iOw0KfQ0KYXdhaXQgcXVlcnkoIklOU0VSVCIsICJlbmVyZ3kiLCBgDQogICAgKGNvbnRleHQsIHRyYWRlciwgYmxvY2ssIGxhYmVscywgYmFsYW5jZSkNCiAgICBTRUxFQ1QNCiAgICAgICAgYCArIHR5cGUgKyBgLmNvbnRleHQsDQogICAgICAgIGAgKyB0eXBlICsgYC50cmFkZXIsDQogICAgICAgICQzLA0KICAgICAgICBgICsgdHlwZSArIGAubGFiZWxzLA0KICAgICAgICAkNA0KICAgIEZST00NCiAgICAgICAgYCArIHR5cGUgKyBgDQogICAgV0hFUkUNCiAgICAgICAgYCArIHR5cGUgKyBgLmNvbnRleHQgPSAkMQ0KICAgICAgICBBTkQNCiAgICAgICAgYCArIHR5cGUgKyBgLmFkZHJlc3MgPSAkMg0KICAgIE9OIENPTkZMSUNUIChjb250ZXh0LCB0cmFkZXIsIGJsb2NrLCBsYWJlbHMpIERPIFVQREFURSBTRVQgYmFsYW5jZSA9IGVuZXJneS5iYWxhbmNlICsgRVhDTFVERUQuYmFsYW5jZQ0KYCwgW3BheWxvYWQuY29udGV4dCwgZnJvbSwgYmxvY2ssIHBheWxvYWQuYW1vdW50XSk7DQpyZXR1cm4gIk9LIjs="
}