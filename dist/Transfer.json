{
    "type": "Transfer",
    "version": "1.0",
    "description": "Transfers energy from one address to another.",
    "template": "{\"context\":{\"type\":\"addr\",\"desc\":\"The context address for the transfer\",\"name\":\"context\"},\"receiver\":{\"type\":\"addr\",\"desc\":\"The receiver of the energy\",\"name\":\"receiver\"},\"block\":{\"type\":\"uint\",\"desc\":\"The block for which energy is transfered\",\"name\":\"block\"},\"labels\":{\"type\":\"str\",\"desc\":\"The exact set of labels from which energy is transfered\",\"name\":\"labels\"},\"amount\":{\"type\":\"float\",\"desc\":\"The amount of energy to transfer\",\"name\":\"amount\"},\"description\":{\"type\":\"str\",\"desc\":\"An optional description for the transfer\",\"name\":\"description\"}}",
    "init": "YXdhaXQgcXVlcnkoIkNSRUFURSIsICJ0cmFkZXJzIiwgYCgNCiAgICBjb250ZXh0IFZBUkNIQVIoMzUpIE5PVCBOVUxMLA0KICAgIGFkZHJlc3MgVkFSQ0hBUigzNSkgTk9UIE5VTEwsDQogICAgUFJJTUFSWSBLRVkgKGNvbnRleHQsIGFkZHJlc3MpDQopYCwgW10pOw0KYXdhaXQgcXVlcnkoIkNSRUFURSIsICJlbmVyZ3kiLCBgKA0KICAgIGNvbnRleHQgVkFSQ0hBUigzNSkgTk9UIE5VTEwsDQogICAgdHJhZGVyIFZBUkNIQVIoMzUpIE5PVCBOVUxMLA0KICAgIGJsb2NrIEJJR0lOVCBOT1QgTlVMTCwNCiAgICBsYWJlbHMgVFNWRUNUT1IgTk9UIE5VTEwsDQogICAgYmFsYW5jZSBERUNJTUFMIE5PVCBOVUxMLA0KICAgIFBSSU1BUlkgS0VZIChjb250ZXh0LCB0cmFkZXIsIGJsb2NrLCBsYWJlbHMpLA0KICAgIEZPUkVJR04gS0VZIChjb250ZXh0LCB0cmFkZXIpIFJFRkVSRU5DRVMgdHJhZGVycyAoY29udGV4dCwgYWRkcmVzcykgT04gREVMRVRFIENBU0NBREUNCilgLCBbXSk7",
    "code": "aWYgKChhd2FpdCBxdWVyeSgiU0VMRUNUIiwgInRyYWRlcnMiLCBgDQogICAgICAgIFdIRVJFIGNvbnRleHQgPSAkMSBBTkQgYWRkcmVzcyA9ICQyDQogICAgYCwgW3BheWxvYWQuY29udGV4dCwgZnJvbV0pKS5yb3dzLmxlbmd0aCAhPT0gMSkgew0KICAgIHJldHVybiAiVGhpcyBhZGRyZXNzIGlzIG5vdCBhbGxvd2VkIHRvIHRyYW5zZmVyIHdpdGhpbiB0aGUgZ2l2ZW4gY29udGV4dCBhZGRyZXNzLiI7DQp9DQppZiAoKGF3YWl0IHF1ZXJ5KCJTRUxFQ1QiLCAidHJhZGVycyIsIGANCiAgICAgICAgV0hFUkUgY29udGV4dCA9ICQxIEFORCBhZGRyZXNzID0gJDINCiAgICBgLCBbcGF5bG9hZC5jb250ZXh0LCBwYXlsb2FkLnJlY2VpdmVyXSkpLnJvd3MubGVuZ3RoICE9PSAxKSB7DQogICAgcmV0dXJuICJUaGUgZ2l2ZW4gcmVjZWl2ZXIgYWRkcmVzcyBpcyBub3QgYWxsb3dlZCB0byB0cmFuc2ZlciB3aXRoaW4gdGhlIGdpdmVuIGNvbnRleHQgYWRkcmVzcy4iOw0KfQ0KaWYgKGZyb20gPT09IHBheWxvYWQucmVjZWl2ZXIpIHsNCiAgICByZXR1cm4gIllvdSBjYW5ub3QgdHJhbnNmZXIgdG8geW91cnNlbGYuIjsNCn0NCmlmIChwYXlsb2FkLmFtb3VudCA8PSAwKSB7DQogICAgcmV0dXJuICJUaGUgYW1vdW50IHRvIHRyYW5zZmVyIG11c3QgYmUgcG9zaXRpdmUuIjsNCn0NCmNvbnN0IGN1cnJlbnRCYWxhbmNlID0gYXdhaXQgcXVlcnkoIlNFTEVDVCIsICJlbmVyZ3kiLCBgDQogICAgV0hFUkUgY29udGV4dCA9ICQxIEFORCB0cmFkZXIgPSAkMiBBTkQgYmxvY2sgPSAkMyBBTkQgbGFiZWxzID0gU1RSSVAoJDQ6OlRTVkVDVE9SKQ0KYCwgW3BheWxvYWQuY29udGV4dCwgZnJvbSwgcGF5bG9hZC5ibG9jaywgcGF5bG9hZC5sYWJlbHNdKTsNCmlmIChjdXJyZW50QmFsYW5jZS5yb3dzLmxlbmd0aCAhPT0gMSkgew0KICAgIHJldHVybiAiVGhpcyBhZGRyZXNzIGRvZXMgbm90IGhhdmUgZW5lcmd5IHdpdGggdGhlIGdpdmVuIGxhYmVscyBpbiB0aGUgZ2l2ZW4gYmxvY2suIjsNCn0NCmlmIChjdXJyZW50QmFsYW5jZS5yb3dzWzBdLmJhbGFuY2UgPCBwYXlsb2FkLmFtb3VudCkgew0KICAgIHJldHVybiAiVGhpcyBhZGRyZXNzIGRvZXMgbm90IGhhdmUgZW5vdWdoIGVuZXJneSB3aXRoIHRoZSBnaXZlbiBsYWJlbHMgaW4gdGhlIGdpdmVuIGJsb2NrLiI7DQp9DQphd2FpdCBxdWVyeSgiVVBEQVRFIiwgImVuZXJneSIsIGANCiAgICBTRVQgYmFsYW5jZSA9IGVuZXJneS5iYWxhbmNlIC0gJDUNCiAgICBXSEVSRSBjb250ZXh0ID0gJDEgQU5EIHRyYWRlciA9ICQyIEFORCBibG9jayA9ICQzIEFORCBsYWJlbHMgPSBTVFJJUCgkNDo6VFNWRUNUT1IpDQpgLCBbcGF5bG9hZC5jb250ZXh0LCBmcm9tLCBwYXlsb2FkLmJsb2NrLCBwYXlsb2FkLmxhYmVscywgcGF5bG9hZC5hbW91bnRdKTsNCmF3YWl0IHF1ZXJ5KCJJTlNFUlQiLCAiZW5lcmd5IiwgYA0KICAgIChjb250ZXh0LCB0cmFkZXIsIGJsb2NrLCBsYWJlbHMsIGJhbGFuY2UpDQogICAgVkFMVUVTICgkMSwgJDIsICQzLCBTVFJJUCgkNDo6VFNWRUNUT1IpLCAkNSkNCiAgICBPTiBDT05GTElDVCAoY29udGV4dCwgdHJhZGVyLCBibG9jaywgbGFiZWxzKSBETyBVUERBVEUgU0VUIGJhbGFuY2UgPSBlbmVyZ3kuYmFsYW5jZSArIEVYQ0xVREVELmJhbGFuY2UNCmAsIFtwYXlsb2FkLmNvbnRleHQsIHBheWxvYWQucmVjZWl2ZXIsIHBheWxvYWQuYmxvY2ssIHBheWxvYWQubGFiZWxzLCBwYXlsb2FkLmFtb3VudF0pOw0KcmV0dXJuICJPSyI7"
}